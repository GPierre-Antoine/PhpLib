#!/usr/bin/env php
<?php

use PAG\Application\ExecutorApplication;
use PAG\Application\InputForwarder;
use PAG\Executor\Executor;
use Psr\Autoload\AutoloaderClass;

require_once __DIR__ . "/../lib/Psr/Autoload/AutoloaderClass.php";

$loader = new AutoloaderClass();

$loader->addNamespace('Psr', __DIR__ . "/../lib/Psr");
$loader->addNamespace('PAG', __DIR__ . "/../lib/PAG");
$loader->register();

try {
    $executor = new ExecutorApplication(new Executor());

    InputForwarder::startApplication($executor);
}
catch (Exception $e) {
    echo $e->getMessage() . PHP_EOL;
}